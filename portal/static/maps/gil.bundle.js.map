{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/src/modules/Utility.js","webpack:///./static/js/src/modules/I18nextConfig.js","webpack:///./static/js/src/gil.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","getExportFileName","getUrlParameter","UtilityObj","Utility","this","requestAttempts","hasValue","val","String","showMain","$","css","visibility","-ms-filter","filter","-moz-opacity","-khtml-opacity","opacity","hideLoader","delay","time","hide","setTimeout","fadeOut","loader","show","document","getElementById","isDelayLoading","self","DELAY_LOADING","isTouchDevice","window","DocumentTouch","getIEVersion","match","navigator","userAgent","parseInt","newHttpRequest","url","params","callBack","xmlhttp","param","XDomainRequest","onload","responseText","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","error","open","setRequestHeader","cache","send","ajaxRequest","callback","i18next","defaults","type","contentType","timeout","extend","uself","ajax","done","data","fail","always","initWorker","callbackFunc","worker","Worker","postMessage","addEventListener","e","terminate","console","log","lineno","filename","message","workerAllowed","getRequestMethod","sendRequest","useWorker","LRKeyEvent","length","on","keyCode","toggleClass","getLoaderHTML","concat","convertToNumericField","field","each","prop","isString","obj","toString","disableHeaderFooterLinks","links","not","addClass","off","preventDefault","pad","isNaN","escapeHtml","text","replace","a","\"","&","'","/","<",">","containHtmlTags","test","prefix","Date","getDate","slice","getMonth","getFullYear","capitalize","str","txt","charAt","toUpperCase","substr","toLowerCase","restoreVis","loadingElement","mainElement","setAttribute","VueErrorHandling","Vue","config","errorHandler","err","vm","info","handler","current","$options","$parent","extension","results","RegExp","exec","location","search","decodeURIComponent","resetBrowserBackHistory","locationUrl","stateObject","title","historyDefined","history","pushState","href","forward","handlePostLogout","sessionStorage","getItem","orgin","removeItem","displaySystemOutageMessage","locale","MAINTENANCE_MESSAGE","MAINTENANCE_WINDOW","messageElement","querySelector","createElement","classList","add","appendChild","innerHTML","d1","d2","startDate","endDate","hoursTil","Math","floor","getTime","options","year","month","day","hour","minute","second","hour12","timeZoneName","displayStartDate","toLocaleString","displayEndDate","join","init","getQueryString","b","split","localStorage","source","loadPath","defaultOptions","fallbackLng","lng","preload","debug","defaultNS","initImmediate","keySeparator","nsSeparator","load","returnEmptyString","returnNull","saveMissing","missingKeyHandler","parseMissingKeyHandler","sessionData","JSON","parse","backend","language","x","sessionItemKey","_typeof","addQueryString","queryStringParams","crossDomain","withCredentials","overrideMimeType","h","customHeaders","setItem","stringify","debugi18next","configOptions","use","i18nextXHRBackend","require","_modules_Utility_js__WEBPACK_IMPORTED_MODULE_0__","_modules_I18nextConfig_js__WEBPACK_IMPORTED_MODULE_1__","ajaxSetup","beforeSend","xhr","settings","__i18next","u","Error","f","1","fx","easing","speed","slow","mid","fast","2","UpperBanner","WindowScroll","WindowResize","NavToggle","Global","Admin","Video","VisObj","MenuObj","InterventionSessionObj","OrgTool","AccessCodeObj","UtilObj","app","global","upperBanner","windowScroll","windowResize","navToggle","admin","visObj","interventionSessionObj","orgTool","menuObj","video","accessCodeObj","utilObj","./modules/admin","./modules/global","./modules/nav-toggle","./modules/upper-banner","./modules/video","./modules/window-resize","./modules/window-scroll","./modules/visobj","./modules/interventionSessionObj","./modules/orgTool","./modules/menuObj","./modules/accessCodeObj","./modules/utilObj","3","build","4","addFX","addPlugins","bindEvents","setRoles","$this","removeClass","$target","position","attr","offset","top","outerHeight","animate","scrollTop","userId","async","dataType","roles","forEach","role","push","getRoles","checkRole","roleName","indexOf","reportError","page_url","sync","subject_id","../config","5","hasClass","setVis","target","modal","6","handleAccess","trigger","handleWatermark","__env","appendTo","7","$div","src","append","8","$intro","imagesLoaded","_","debounce","imgHeight","width","find","height","9","bindScroll","checkScroll","10","HAS_REDIRECT","hideMain","showLoader","is","setRedirect","11","setInterventionSession","dataSectionId","getSession","id","clearSession","12","OrgObj","orgId","orgName","parentOrg","children","parentOrgId","isTopLevel","CONSENT_ENUM","staff_editable","include_in_reports","send_reminders","TOP_LEVEL_ORGS","orgsList","inArray","array","getTopLevelOrgs","getOrgsList","setDefaultConsent","stockConsentUrl","agreementUrl","org","encodeURIComponent","setConsent","hasConsent","user_id","organization_id","agreement_url","filterStatus","consentedOrgIds","expired","found","suspended","consent_agreements","item","sort","signed","getDateDiff","expires","deleted","dateToCalc","dateTime","validateIdentifier","identifiers","getOrgs","populateOrgsList","apply","entry","populateUI","alert","reload","os","closest","updateOrg","updateOrgCallback","demoArray","errorMessage","orgIDs","map","reference","filterOrgs","leafOrgs","allChildrenHidden","subOrgs","allSubOrgsHidden","isVisible","ip","findOrg","topOrgs","items","parentId","partOf","pop","parentOrgsCt","childClinic","index","_parentOrgId","_parentOrg","_isTopLevel","handleNoOrgs","careProvider","orgID","removeAttr","html","13","currentUserId","filterMenu","setSelectedNavItem","handleDisabledLinks","event","handleItemRedirect","itemName","enable","la","validateUrl","setItemVis","itemLink","vis","handleInterventionItemLinks","interventionItem","customName","link","link_url","disabled","linkItems","menuItem","after","description","__PORTAL","context","body","found_decision_support","found_symptom_tracker","interventions","prepend","itemDescription","dm","trim","14","handleAccessCode","handleEvents","15","appendLREditContainer","initSessionMonitor","handleLoginAsUser","ready"],"mappings":"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","file":"gil.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","var Utility = (function() {\n    var UtilityObj = function() { /*global $ */\n        this.requestAttempts = 0;\n    };\n    UtilityObj.prototype.hasValue = function(val) {\n        return String(val) !== \"null\" && String(val) !== \"\" && String(val) !== \"undefined\";\n    };\n    UtilityObj.prototype.showMain = function() {\n        $(\"#mainHolder\").css({\n            \"visibility\": \"visible\",\n            \"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n            \"filter\": \"alpha(opacity=100)\",\n            \"-moz-opacity\": 1,\n            \"-khtml-opacity\": 1,\n            \"opacity\": 1\n        });\n    };\n    UtilityObj.prototype.hideLoader = function(delay, time) {\n        if (delay) {\n            $(\"#loadingIndicator\").hide();\n            return;\n        }\n        setTimeout(function() {\n            $(\"#loadingIndicator\").fadeOut();\n        }, time || 200);\n    };\n    UtilityObj.prototype.loader = function(show) {\n        //landing page\n        if (document.getElementById(\"fullSizeContainer\")) {\n            this.hideLoader();\n            this.showMain();\n            return false;\n        }\n        if (show) {\n            $(\"#loadingIndicator\").show();\n            return;\n        }\n        if (!this.isDelayLoading()) {\n            var self = this;\n            setTimeout(function() {\n                self.showMain();\n            }, 100);\n            this.hideLoader(true, 350);\n        }\n    };\n    UtilityObj.prototype.isDelayLoading = function() { /*global DELAY_LOADING*/\n        return (typeof DELAY_LOADING !== \"undefined\") && DELAY_LOADING;\n    };\n    UtilityObj.prototype.isTouchDevice = function() {\n        return true === (\"ontouchstart\" in window || window.DocumentTouch && document instanceof window.DocumentTouch);\n    };\n    UtilityObj.prototype.getIEVersion = function() {\n        var match = navigator.userAgent.match(/(?:MSIE |Trident\\/.*; rv:)(\\d+)/);\n        return match ? parseInt(match[1]) : false;\n    };\n    UtilityObj.prototype.newHttpRequest = function(url, params, callBack) { /* note: this function supports older version of IE (version <= 9) - jquery ajax calls errored in older IE version*/\n        this.requestAttempts++;\n        var xmlhttp, self = this;\n        callBack = callBack || function() {};\n        if (window.XDomainRequest) { /*global XDomainRequest */\n            xmlhttp = new XDomainRequest();\n            xmlhttp.onload = function() {\n                callBack(xmlhttp.responseText);\n            };\n        } else if (window.XMLHttpRequest) {\n            xmlhttp = new XMLHttpRequest();\n        } else {\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\"); /*global ActiveXObject */\n        }\n        xmlhttp.onreadystatechange = function() {\n            if (xmlhttp.readyState === 4) {\n                if (xmlhttp.status === 200) {\n                    callBack(xmlhttp.responseText);\n                    self.requestAttempts = 0;\n                    return;\n                }\n                if (self.requestAttempts < 3) {\n                    setTimeout(function() {\n                        self.newHttpRequest(url, params, callBack);\n                    }, 3000);\n                } else {\n                    callBack({error: xmlhttp.responseText});\n                    self.loader();\n                    self.requestAttempts = 0;\n                }\n            }\n        };\n        params = params || {};\n        xmlhttp.open(\"GET\", url, true);\n        for (var param in params) {\n            if (params.hasOwnProperty(param)) {\n                xmlhttp.setRequestHeader(param, params[param]);\n            }\n        }\n        if (!params.cache) {\n            xmlhttp.setRequestHeader(\"cache-control\", \"no-cache\");\n            xmlhttp.setRequestHeader(\"expires\", \"-1\");\n            xmlhttp.setRequestHeader(\"pragma\", \"no-cache\"); //legacy HTTP 1.0 servers and IE support\n        }\n        xmlhttp.send();\n    };\n    UtilityObj.prototype.ajaxRequest = function(url, params, callback) {\n        callback = callback || function() {};\n        if (!url) {\n            callback({error: i18next.t(\"Url is required.\")});\n            return false;\n        }\n        var defaults = {\n            url: url,\n            type: \"GET\",\n            contentType: \"text/plain\",\n            timeout: 5000,\n            cache: false\n        };\n        params = params || defaults;\n        params = $.extend({}, defaults, params);\n        this.requestAttempts++;\n        var uself = this;\n        $.ajax(params).done(function(data) {\n            callback(data);\n            uself.requestAttempts = 0;\n        }).fail(function() {\n            if (uself.requestAttempts <= 3) {\n                setTimeout(function() { uself.ajaxRequest(url, params, callback);}, 3000);\n            } else {\n                callback({error: i18next.t(\"Error occurred processing request\")}); /*global i18next */\n                uself.requestAttempts = 0;\n                uself.loader();\n            }\n        }).always(function() {\n            uself.loader();\n        });\n    };\n    UtilityObj.prototype.initWorker = function(url, params, callbackFunc) {\n        var worker = new Worker(\"/static/js/ajaxWorker.js\");\n        var self = this;\n        worker.postMessage({url: url, params: params});\n        worker.addEventListener(\"message\", function(e) {\n            (callbackFunc).call(self, e.data);\n            worker.terminate();\n        }, false);\n        worker.addEventListener(\"error\", function(e) {\n            console.log(\"Worker runtime error: Line \", e.lineno, \" in \", e.filename, \": \", e.message);\n            worker.terminate();\n        }, false);\n    };\n    UtilityObj.prototype.workerAllowed = function() {\n        return window.Worker && !this.isTouchDevice();\n    };\n    UtilityObj.prototype.getRequestMethod = function() {\n        return this.getIEVersion() ? this.newHttpRequest: this.ajaxRequest; //NOTE JQuery ajax request does not work for IE <= 9\n    };\n    UtilityObj.prototype.sendRequest = function(url, params, callback) { /*generic function for sending GET ajax request, make use of worker if possible */\n        params = params || {};\n        if (params.useWorker && this.workerAllowed()) {\n            this.initWorker(url, params, callback);\n            return true;\n        }\n        var useFunc = this.getRequestMethod();\n        (useFunc).call(this, url, params, function(data) { (callback).call(this, data);});\n    };\n    UtilityObj.prototype.LRKeyEvent = function() {\n        var LR_INVOKE_KEYCODE = 187;\n        if ($(\".button--LR\").length > 0) {\n            $(\"html\").on(\"keydown\", function(e) {\n                if (parseInt(e.keyCode) === parseInt(LR_INVOKE_KEYCODE)) {\n                    $(\".button--LR\").toggleClass(\"data-show\");\n                }\n            });\n        }\n    };\n    UtilityObj.prototype.getLoaderHTML = function(message) {\n        return `<div class=\"loading-message-indicator\"><i class=\"fa fa-spinner fa-spin fa-2x\"></i>${message ? \"&nbsp;\" + message : \"\"}</div>`;\n    };\n    UtilityObj.prototype.convertToNumericField = function(field) {\n        if (!field) {\n            return;\n        }\n        if (this.isTouchDevice()) {\n            field.each(function() {\n                $(this).prop(\"type\", \"tel\");\n            });\n        }\n    };\n    UtilityObj.prototype.isString = function(obj) {\n        return (Object.prototype.toString.call(obj) === \"[object String]\");\n    };\n    UtilityObj.prototype.disableHeaderFooterLinks = function() {\n        var links = $(\"#tnthNavWrapper a, #homeFooter a\").not(\"a[href*='logout']\").not(\"a.required-link\").not(\"a.home-link\");\n        links.addClass(\"disabled\");\n        links.prop(\"onclick\", null).off(\"click\");\n        links.on(\"click\", function(e) {\n            e.preventDefault();\n            return false;\n        });\n    };\n    UtilityObj.prototype.pad = function(n) {\n        n = parseInt(n);\n        return (!isNaN(n) && n < 10) ? \"0\" + n : n;\n    };\n    UtilityObj.prototype.escapeHtml = function(text) {\n        \"use strict\";\n        if (text === null || text !== \"undefined\" || String(text).length === 0) {\n            return text;\n        }\n        return text.replace(/[\\\"&'\\/<>]/g, function(a) {\n            return {\n                '\"': \"&quot;\",\n                \"&\": \"&amp;\",\n                \"'\": \"&#39;\",\n                \"/\": \"&#47;\",\n                \"<\": \"&lt;\",\n                \">\": \"&gt;\"\n            }[a];\n        });\n    };\n    UtilityObj.prototype.containHtmlTags = function(text) {\n        if (!text) {\n            return false;\n        }\n        return /[<>]/.test(text);\n    };\n    UtilityObj.prototype.getExportFileName = function(prefix) {\n        var d = new Date();\n        return (prefix ? prefix : \"ExportList_\") + (\"00\" + d.getDate()).slice(-2) + (\"00\" + (d.getMonth() + 1)).slice(-2) + d.getFullYear();\n    };\n    UtilityObj.prototype.capitalize = function(str) {\n        return str.replace(/\\w\\S*/g, function(txt) {\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n        });\n    };\n    UtilityObj.prototype.restoreVis = function() {\n        var loadingElement = document.getElementById(\"loadingIndicator\"), mainElement = document.getElementById(\"mainHolder\");\n        if (loadingElement) { loadingElement.setAttribute(\"style\", \"display:none; visibility:hidden;\"); }\n        if (mainElement) { mainElement.setAttribute(\"style\", \"visibility:visible;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';filter:alpha(opacity=100); -moz-opacity:1; -khtml-opacity:1; opacity:1\"); }\n    };\n    UtilityObj.prototype.VueErrorHandling = function() {\n        if (typeof Vue === \"undefined\") { return false; } /*global Vue */\n        var self = this;\n        Vue.config.errorHandler = function (err, vm, info)  {\n            var handler, current = vm;\n            if (vm.$options.errorHandler) {\n                handler = vm.$options.errorHandler;\n            } else {\n                while (!handler && current.$parent) {\n                    current = current.$parent;\n                    handler = current.$options.errorHandler;\n                }\n            }\n            self.restoreVis();\n            if (handler) {\n                handler.call(current, err, vm, info);\n                return;\n            }\n            console.log(err);\n        };\n    };\n    UtilityObj.prototype.extend = function(obj, extension) { // Extend an object with an extension\n        for (var key in extension) {\n            if (extension.hasOwnProperty(key)) {\n                obj[key] = extension[key];\n            }\n        }\n        return obj;\n    };\n    UtilityObj.prototype.getUrlParameter = function(name) {\n        name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n        var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n        var results = regex.exec(location.search);\n        return results === null ? \"\" : decodeURIComponent(results[1]);\n    };\n    UtilityObj.prototype.resetBrowserBackHistory = function(locationUrl, stateObject, title) {\n        var historyDefined = typeof history !== \"undefined\" && history.pushState;\n        locationUrl = locationUrl || location.href;\n        if (historyDefined) {\n            history.pushState(stateObject, title, locationUrl);\n        }\n        window.addEventListener(\"popstate\", function() {\n            if (historyDefined) {\n                history.pushState(stateObject, title, locationUrl);\n            } else {\n                window.history.forward(1);\n            }\n        });\n    };\n    UtilityObj.prototype.handlePostLogout = function() {\n        if (typeof sessionStorage === \"undefined\") {\n            return false;\n        }\n        if (sessionStorage.getItem(\"logout\")) {\n            this.resetBrowserBackHistory(location.orgin, \"logout\"); /* global resetBrowserBackHistory */\n            sessionStorage.removeItem(\"logout\");\n        }\n    };\n    UtilityObj.prototype.displaySystemOutageMessage = function(locale) {\n        locale = locale || \"en-us\";\n        locale = locale.replace(\"_\", \"-\");\n        var systemMaintenanceElId = \"systemMaintenanceContainer\";\n        if (!document.getElementById(systemMaintenanceElId)) { //check for system outage maintenance message element\n            return;\n        }\n        var self = this;\n        this.ajaxRequest(\"api/settings\", {contentType: \"application/json; charset=utf-8\"}, function(data) {\n            if (!data || !(data.MAINTENANCE_MESSAGE || data.MAINTENANCE_WINDOW)) {\n                return false;\n            }\n            var messageElement = document.querySelector(\".message-container\");\n            if (!messageElement) {\n                messageElement = document.createElement(\"div\");\n                messageElement.classList.add(\"message-container\");\n                document.getElementById(systemMaintenanceElId).appendChild(messageElement);\n            }\n            if (data.MAINTENANCE_MESSAGE) {\n                messageElement.innerHTML = self.escapeHtml(data.MAINTENANCE_MESSAGE);\n                return;\n            }\n            if (!data.MAINTENANCE_WINDOW || !data.MAINTENANCE_WINDOW.length) {\n                return;\n            }\n            //use maintenance window specified in config to compose the message, assuming in following example format: [\"2018-11-02T12:00:00Z\", \"2018-11-02T18:00:00Z\"], dates in system ISO format\n            var hoursDiff = function(d1, d2) {\n                if (!d1 || !d2) {\n                    return 0;\n                }\n                return Math.floor(((d2.getTime() - d1.getTime())/ (1000 * 60 * 60)) % 24);\n            };\n            //date object automatically convert iso date/time to local date/time as it assumes a timezone of UTC if date in ISO format\n            var startDate = new Date(data.MAINTENANCE_WINDOW[0]), endDate = new Date(data.MAINTENANCE_WINDOW[1]);\n            var hoursTil = hoursDiff(new Date(), startDate);\n            if (hoursTil < 0 || isNaN(hoursTil)) { //maintenance window has passed\n                document.getElementById(systemMaintenanceElId).classList.add(\"tnth-hide\");\n                return;\n            }\n            /*global i18next */\n            //construct message based on maintenance window\n            try {\n                var options = {year: \"numeric\", month: \"long\", day: \"numeric\", hour: \"numeric\", minute: \"numeric\", second: \"numeric\", hour12: true, timeZoneName: \"short\"};\n                var displayStartDate = startDate.toLocaleString(locale,options).replace(/[,]/g, \" \"); //display language-sensitive representation of date/time\n                var displayEndDate = endDate.toLocaleString(locale, options).replace(/[,]/g, \" \");\n                var message = [\"<div>\" + i18next.t(\"Hi there.\") + \"</div>\",\n                    \"<div>\" + i18next.t(\"TrueNTH will be down for website maintenance starting <b>{startdate}</b>. This should last until <b>{enddate}</b>.\".replace(\"{startdate}\", displayStartDate).replace(\"{enddate}\", displayEndDate)) + \"</div>\",\n                    \"<div>\" + i18next.t(\"Thanks for your patience while we upgrade our site.\") + \"</div>\"].join(\"\");\n                messageElement.innerHTML = self.escapeHtml(message);\n            } catch(e) {\n                console.log(\"Error occurred converting system outage date/time \", e); /*eslint no-console:off */\n                document.getElementById(systemMaintenanceElId).classList.add(\"tnth-hide\");\n            }\n        });\n    };\n    return new UtilityObj();\n})();\nexport default Utility;\nexport var getExportFileName = Utility.getExportFileName; /* expose common functions */\nexport var getUrlParameter= Utility.getUrlParameter;\n","/*** wrapper object to initalize i18next ***/\nexport default (function() {\n    function init(options, callback) {\n        var getQueryString = (function(a) {\n            if (String(a) === \"\") { return {}; }\n            var b = {};\n            for (var i = 0; i < a.length; ++i) {\n                var p = a[i].split(\"=\", 2);\n                if (p.length === 1) {\n                    b[p[0]] = \"\";\n                }\n                else {\n                    b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n                }\n            }\n            return b;\n        })(window.location.search.substr(1).split(\"&\"));\n\n        if (typeof window.localStorage !== \"undefined\") {\n            if (window.localStorage.getItem(\"i18nextLng\")) {\n                window.localStorage.removeItem(\"i18nextLng\");\n            }\n        }\n        var source = options.loadPath || \"/static/files/locales/{{lng}}/translation.json\"; //consuming translation json from each corresponding locale\n        var defaultOptions = {\n            fallbackLng: \"en-US\",\n            lng: \"en-US\",\n            preload: false,\n            debug: false,\n            defaultNS: \"translation\",\n            initImmediate: false,\n            keySeparator: \"----\",\n            nsSeparator: \"----\",\n            load: \"currentOnly\",\n            returnEmptyString: false,\n            returnNull: false,\n            saveMissing: false,\n            missingKeyHandler: false,\n            parseMissingKeyHandler: function(key) { //allow lookup for translated text for missing key\n                var sessionData = sessionStorage.getItem(\"i18nextData_\" + this.lng);\n                if (!sessionData) {\n                    return key;\n                }\n                try {\n                    var data = JSON.parse(sessionData);\n\n                    if (data && data.hasOwnProperty(key)) {\n                        return data[key];\n                    }\n                } catch (e) {\n                    return key;\n                }\n                return key;\n            },\n            backend: {\n                // load from static file\n                language: options.lng,\n                loadPath: source,\n                ajax: function(url, options, callback, data, cache) {\n                    /*\n                     * default code from i18nextBackend.js, but modify it to allow sync loading of resources and add session storage\n                     */\n                    callback = callback || function() {};\n                    var sessionItemKey = \"i18nextData_\" + options.language;\n                    if (data && (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) === \"object\") { /*global _typeof */\n                        if (!cache) { data[\"_t\"] = new Date();}\n                        // URL encoded form data must be in querystring format\n                        data = addQueryString(\"\", data).slice(1); /* global addQueryString */\n                    }\n                    if (options.queryStringParams) {\n                        url = addQueryString(url, options.queryStringParams); /* global addQueryString */\n                    }\n                    var x;\n                    if (XMLHttpRequest) {\n                        x = new XMLHttpRequest();\n                    } else {\n                        x = new ActiveXObject(\"MSXML2.XMLHTTP.3.0\"); /*global ActiveXObject */\n                    }\n                    try {\n                        //use sync\n                        x.open(data ? \"POST\" : \"GET\", url, 0);\n                        if (!options.crossDomain) {\n                            x.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        }\n                        x.withCredentials = !!options.withCredentials;\n                        if (data) {\n                            x.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                        }\n                        if (x.overrideMimeType) {\n                            x.overrideMimeType(\"application/json\");\n                        }\n                        var h = options.customHeaders;\n                        if (h) {\n                            for (var i in h) {\n                                if (h.hasOwnProperty(i)) {\n                                    x.setRequestHeader(i, h[i]);\n                                }\n                            }\n                        }\n                        x.onreadystatechange = function() {\n                            if (x.readyState > 3) {\n                                callback(x.responseText, x);\n                                if (x.responseText && !sessionStorage.getItem(sessionItemKey)) {\n                                    sessionStorage.setItem(sessionItemKey, JSON.stringify(x.responseText));\n                                }\n                            }\n                        };\n                        x.send(data);\n                    } catch (e) {\n                        if (console) { console.log(e); }/*global console */\n                    }\n                }\n            }\n        };\n        options = options || defaultOptions;\n        if (options.lng) {\n            options.lng = options.lng.replace(\"_\", \"-\");\n        }\n        options.debug = options.debug ? options.debug : (getQueryString.debugi18next ? true : false);\n        var configOptions = defaultOptions;\n        for (var key in options) {\n            if (defaultOptions.hasOwnProperty(key)) {\n                defaultOptions[key] = options[key];\n            }\n        }\n        var sessionItemKey = \"i18nextData_\" + options.language;\n        callback = callback || function() {};\n        if (typeof i18next === \"undefined\") { //i18next js libraries raises runtime error in <= IE8 \n            callback();\n            return false;\n        }\n        if (String(options.lng).toLowerCase() === \"en-us\" || sessionStorage.getItem(sessionItemKey)) {\n            //still need to initialize i18next but skip call to backend\n            i18next.init(configOptions, function(err, t) { /* global i18next i18nextXHRBackend */\n                callback(t);\n            });\n        } else {\n            i18next.use(i18nextXHRBackend).init(configOptions, function(err, t) { /* global i18next i18nextXHRBackend */\n                callback(t);\n            });\n        }\n    }\n    return {\n        init: function(options, callback) {\n            callback = callback || function() {};\n            try {\n                init(options, callback);\n            } catch(e) { /*eslint no-console: off */\n                console.log(\"Error initialized i18next \", e.message); //note i18next makes use of session storage/local storage, the access of which creates JS runtime error when cookies are disabled, so we need to catch them\n                callback();\n            }\n        }\n    };\n})();\n\n\n","import Utility from \"./modules/Utility.js\";\nimport __i18next from \"./modules/I18nextConfig.js\";\n$.ajaxSetup({\n  beforeSend: function(xhr, settings) {\n    if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {\n      xhr.setRequestHeader(\"X-CSRFToken\", $(\"#csrfToken\").val());\n    }\n  }\n});\n\n__i18next.init({\"debug\": false, \"initImmediate\": false});\n\nvar RETURN_KEY_CODE = 13;\n\n\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = {\n  fx: {\n    easing: \"easeOutExpo\",\n    speed: {\n      slow: 1500,\n      mid: 1000,\n      fast: 1000\n    }\n  }\n};\n\n\n},{}],2:[function(require,module,exports){\n\nvar UpperBanner = require(\"./modules/upper-banner\");\n\nvar WindowScroll = require(\"./modules/window-scroll\");\n\nvar WindowResize = require(\"./modules/window-resize\");\n\nvar NavToggle = require(\"./modules/nav-toggle\");\n\nvar Global = require(\"./modules/global\");\n\nvar Admin = require(\"./modules/admin\");\n\nvar Video = require(\"./modules/video\");\n\nvar VisObj = require(\"./modules/visobj\");\n\nvar MenuObj = require(\"./modules/menuObj\");\n\nvar InterventionSessionObj = require(\"./modules/interventionSessionObj\");\n\nvar OrgTool = require(\"./modules/orgTool\");\n\nvar AccessCodeObj= require(\"./modules/accessCodeObj\");\n\nvar UtilObj = require(\"./modules/utilObj\");\n\n\n$(function() {\n  if (window.app == null) {\n    window.app = {};\n  }\n  window.app.global = new Global();\n  window.app.upperBanner = new UpperBanner();\n  window.app.windowScroll = new WindowScroll();\n  window.app.windowResize = new WindowResize();\n  window.app.navToggle = new NavToggle();\n  window.app.admin = new Admin();\n  window.app.visObj = new VisObj();\n  window.app.interventionSessionObj = new InterventionSessionObj();\n  window.app.orgTool = new OrgTool();\n  window.app.menuObj = new MenuObj();\n  window.app.video = new Video();\n  window.app.accessCodeObj = new AccessCodeObj();\n  window.app.utilObj = new UtilObj();\n});\n\n\n},{\"./modules/admin\":3,\"./modules/global\":4,\"./modules/nav-toggle\":5,\"./modules/upper-banner\":6,\"./modules/video\":7,\"./modules/window-resize\":8,\"./modules/window-scroll\":9, \"./modules/visobj\":10, \"./modules/interventionSessionObj\":11, \"./modules/orgTool\":12, \"./modules/menuObj\":13, \"./modules/accessCodeObj\":14, \"./modules/utilObj\":15}],3:[function(require,module,exports){\nvar Admin, loggedInAdminClass, loggedInClass, upperBannerClosedClass;\n\nloggedInAdminClass = \"is-showing-logged-in\";\n\nloggedInClass = \"is-logged-in\";\n\nupperBannerClosedClass = \"is-upper-banner-closed\";\n\nmodule.exports = Admin = (function() {\n  function Admin() {\n    this.build();\n  }\n\n  Admin.prototype.build = function() {\n    return $(\".js-mock-submit\").on(\"submit\", function(e) {\n      e.preventDefault();\n      return $(this).addClass(\"is-submitted\");\n    });\n  };\n\n  return Admin;\n\n})();\n\n\n},{}],4:[function(require,module,exports){\nvar Global, config;\n\nconfig = require(\"../config\");\n\nmodule.exports = Global = (function() {\n  function Global() {\n    this.addFX();\n    this.addPlugins();\n    this.bindEvents();\n    this.setRoles();\n  }\n\n  Global.prototype.addFX = function() {\n    return $.extend($.easing, window.easing);\n  };\n\n  Global.prototype.addPlugins = function() {\n    $(\".modal\").on(\"show.bs.modal\", function(e) {\n      return $(this).addClass(\"is-modal-active\");\n    });\n    return $(\".modal\").on(\"hide.bs.modal\", function(e) {\n      var $this;\n      $this = $(this);\n      return setTimeout(function() {\n        return $this.removeClass(\"is-modal-active\");\n      }, 200);\n    });\n  };\n\n  Global.prototype.bindEvents = function() {\n    return $(\".js-scroll-down\").on(\"click\", function(e) {\n      var $target, position;\n      e.preventDefault();\n      $target = $($(this).attr(\"data-target\"));\n      position = $target.offset().top + $target.outerHeight() - 92;\n      return $(\"html,body\").animate({\n        scrollTop: position\n      }, config.fx.speed.mid, config.fx.easing);\n    });\n  };\n\n  Global.prototype.setRoles = function() {\n    var userId = $(\"#currentUserId\").val();\n    if (userId) {\n     $.ajax ({\n        type: \"GET\",\n        url: \"/api/user/\" + userId + \"/roles\",\n        contentType: \"application/json; charset=utf-8\",\n        cache: false,\n        async: false,\n        dataType: \"json\",\n      }).done(function(data) {\n        if (data && data.roles) {\n          var roles = [];\n          data.roles.forEach(function(role) {\n            roles.push(role.name);\n          });\n          localStorage.setItem(\"userRoles\", JSON.stringify(roles));\n        }\n      }).fail(function(xhr) {\n      });\n    }\n  };\n\n  Global.prototype.getRoles = function() {\n    return localStorage.getItem(\"userRoles\") ? JSON.parse(localStorage.getItem(\"userRoles\")) : null;\n  };\n\n  Global.prototype.checkRole = function(roleName) {\n    if (roleName) {\n      var roles = this.getRoles();\n      if (roles) {\n        return roles.indexOf(roleName) !== -1;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  };\n\n  Global.prototype.reportError = function(userId, page_url, message, sync) {\n    //params need to contain the following:\n    //:subject_id: User on which action is being attempted\n    //:message: Details of the error event\n    //:page_url: The page requested resulting in the error\n    var params = {};\n    userId = userId || $(\"#currentUserId\").val();\n    params.subject_id = userId ? userId : 0;\n    params.page_url = page_url ? page_url: window.location.href;\n    //don't think we want to translate message sent back to the server here\n    params.message = \"Error generated in JS - \" + (message ? message : \"no detail available\");\n\n    $.ajax ({\n        type: \"GET\",\n        url: \"/report-error\",\n        contentType: \"application/json; charset=utf-8\",\n        cache: false,\n        async: (sync ? false : true),\n        data: params\n    }).done(function(data) {\n    }).fail(function(){\n    });\n  };\n\n  return Global;\n\n})();\n\n\n},{\"../config\":1}],5:[function(require,module,exports){\nvar NavToggle, navExpandedClass;\n\nnavExpandedClass = \"is-nav-expanded\";\n\nmodule.exports = NavToggle = (function() {\n  function NavToggle() {\n    this.build();\n  }\n\n  NavToggle.prototype.build = function() {\n    $(\".js-nav-menu-toggle\").on(\"click\", function(e) {\n      e.preventDefault();\n      return $(\"html\").toggleClass(navExpandedClass, !$(\"html\").hasClass(navExpandedClass));\n    });\n    $(\"figure.nav-overlay, .js-close-nav\").on(\"click\", function(e) {\n      if ($(\"html\").hasClass(navExpandedClass)) {\n        return $(\"html\").removeClass(navExpandedClass);\n      }\n    });\n    $(\".side-nav a\").not(\"[data-toggle=modal]\").on(\"click touchend\", function(e) {\n      var href;\n      e.preventDefault();\n      href = $(this).attr(\"href\");\n      $(\"html\").removeClass(navExpandedClass);\n      window.app.utilObj.setVis(true);\n      return setTimeout(function() {\n        return window.location = href;\n      }, 500);\n    });\n    $(window).on(\"unload\", function() {\n      setTimeout(function() {\n        window.app.utilObj.setVis();\n      }, 500);\n    });\n    return $(\".side-nav a[data-toggle=modal]\").on(\"click touchend\", function(e) {\n      var target;\n      e.preventDefault();\n      target = $(this).attr(\"data-target\");\n      $(\"html\").removeClass(navExpandedClass);\n      return setTimeout(function() {\n        return $(target).modal(\"show\");\n      }, 500);\n    });\n  };\n\n  return NavToggle;\n\n})();\n\n\n},{}],6:[function(require,module,exports){\nvar UpperBanner;\n\nmodule.exports = UpperBanner = (function() {\n  function UpperBanner() {\n    this.build();\n  }\n\n  UpperBanner.prototype.build = function() {\n    return $(\".js-close-upper-banner\").on(\"click touchstart\", function(e) {\n      e.preventDefault();\n      return $(\"html\").addClass(\"is-upper-banner-closed\");\n    });\n  };\n\n  UpperBanner.prototype.handleAccess = function() {\n    if (typeof sessionStorage !== \"undefined\") {\n      var data = sessionStorage.getItem('bannerAccessed');\n      if (String(data) === \"yes\") {\n        $(\".js-close-upper-banner\").trigger(\"click\");\n      }\n\n      $(\"a.js-close-upper-banner\").on(\"click\", function() {\n          sessionStorage.setItem(\"bannerAccessed\", \"yes\");\n      });\n\n    }\n  };\n\n  UpperBanner.prototype.handleWatermark = function() {\n    var __env = $(\"#env\").val();\n    if ((__env !== \"\" && __env.toLowerCase() !== \"production\") && ($(\".watermark\").length === 0)) {\n      $(\"<div class='watermark'>TRUE<sup>NTH</sup> - \" + __env + \" version - Not for study or clinical use</div>\").appendTo(\"body\");\n    }\n  };\n\n  return UpperBanner;\n\n})();\n\n},{}],7:[function(require,module,exports){\nvar Video, navExpandedClass;\n\nnavExpandedClass = \"is-nav-expanded\";\n\nmodule.exports = Video = (function() {\n  function Video() {\n    this.build();\n  }\n\n  Video.prototype.build = function() {\n    $(\".js-video-toggle a\").on(\"click\", function(e) {\n      return e.preventDefault();\n    });\n    return $(\".js-video-toggle\").on(\"click\", function(e) {\n      var $div, src;\n      e.preventDefault();\n      $(\"html\").addClass(\"is-video-active\");\n      $div = $(this);\n      src = $div.data(\"iframe-src\");\n      return $div.append(\"<iframe src='\" + src + \"' allowfullscreen frameborder='0' />\").addClass(\"is-js-video-active\");\n    });\n  };\n\n  return Video;\n\n})();\n\n\n},{}],8:[function(require,module,exports){\nvar Resize;\n\nmodule.exports = Resize = (function() {\n  function Resize() {\n    var $intro;\n    $intro = $(\".intro\");\n    $intro.imagesLoaded(function() {\n      return $(window).on(\"resize.setElements\", _.debounce(function(e) {\n        var imgHeight;\n        if ($(window).width() <= 767) {\n          imgHeight = $intro.find(\"img.intro__img--mobile\").height();\n        } else {\n          imgHeight = $intro.find(\"img.intro__img--desktop\").height();\n        }\n        return $intro.css(\"height\", imgHeight);\n      }, 50)).trigger(\"resize.setElements\");\n    });\n  }\n  return Resize;\n\n})();\n\n\n},{}],9:[function(require,module,exports){\nvar WindowScroll;\n\nmodule.exports = WindowScroll = (function() {\n  function WindowScroll() {\n    this.bindScroll();\n  }\n\n  WindowScroll.prototype.bindScroll = function() {\n    var checkScroll;\n    checkScroll = _.debounce(function() {\n      var offset;\n      if ($(\".upper-banner\").outerHeight() > 0) {\n        offset = $(\".upper-banner\").outerHeight();\n      } else {\n        offset = 0;\n      }\n      if ($(window).scrollTop() <= offset) {\n        return $(\"html\").removeClass(\"is-scrolled\");\n      } else {\n        return $(\"html\").addClass(\"is-scrolled\");\n      }\n    }, 0);\n    return $(window).on(\"scroll.checkScroll\", checkScroll).trigger(\"scroll.checkScroll\");\n  };\n\n  return WindowScroll;\n\n})();\n},{}],\n10:[function(require,module,exports){\nvar VisObj;\n\nmodule.exports = VisObj = (function() {\n  return function() {\n    this.HAS_REDIRECT = false;\n    this.hideMain = function () {\n      $(\"#mainHolder\").hide();\n      $(\"#mainHolder\").css({\n                  \"visibility\" : \"hidden\",\n                  \"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\",\n                  \"filter\": \"alpha(opacity=0)\",\n                  \"-moz-opacity\": 0,\n                  \"-khtml-opacity\": 0,\n                  \"opacity\": 0\n                });\n    };\n    this.showMain = function() {\n      if (!this.HAS_REDIRECT) {\n        if ($(\".watermark\").length > 0) {\n          $(\"header.no-banner \").css(\"padding-top\", \"35px\");\n        }\n        $(\"#mainHolder\").css({\n                  \"visibility\" : \"visible\",\n                  \"-ms-filter\": \"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)\",\n                  \"filter\": \"alpha(opacity=100)\",\n                  \"-moz-opacity\": 1,\n                  \"-khtml-opacity\": 1,\n                  \"opacity\": 1\n                });\n        this.hideLoader();\n      };\n    };\n    this.showLoader = function() {\n      if (!($(\"#loadingIndicator\").is(\":visible\"))) {\n        $(\"#loadingIndicator\").show();\n      }\n    };\n    this.hideLoader = function() {\n      $(\"#loadingIndicator\").hide();\n    };\n    this.setRedirect = function() {\n      this.HAS_REDIRECT = true;\n      this.showLoader();\n      this.hideMain();\n\n    };\n  };\n})();\n\n},{}],\n11:[function(require,module,exports){\nvar InterventionSessionObj;\n\nmodule.exports = InterventionSessionObj = (function() {\n  return function () {\n    this.setInterventionSession = function() {\n        var dataSectionId = $(\"main\").attr(\"data-link-identifier\");\n        if (dataSectionId) {\n          if (typeof sessionStorage !== \"undefined\") {\n            sessionStorage.setItem(dataSectionId+\"InSession\", \"true\");\n          }\n        }\n    };\n    this.getSession = function(id) {\n      if (!id) {\n        return false;\n      } else {\n        return (typeof sessionStorage !== \"undefined\" && sessionStorage.getItem(id+\"InSession\"));\n      }\n    };\n    this.clearSession = function(id) {\n      if (this.getSession(id)) {\n        sessionStorage.removeItem(id+\"InSession\");\n      }\n    };\n  };\n\n})();\n\n},{}],\n12:[function(require,module,exports){\nvar OrgTool;\n\nmodule.exports = OrgTool = (function() {\n  return function () {\n\n    var OrgObj = function(orgId, orgName, parentOrg) {\n      this.id = orgId;\n      this.name = orgName;\n      this.children = [];\n      this.parentOrgId = parentOrg;\n      this.isTopLevel = false;\n    };\n\n    var CONSENT_ENUM = {\n        \"consented\": {\n            \"staff_editable\": true,\n            \"include_in_reports\": true,\n            \"send_reminders\": true\n        },\n         \"suspended\": {\n            \"staff_editable\": true,\n            \"include_in_reports\": true,\n            \"send_reminders\": false\n        },\n        \"purged\": {\n            \"staff_editable\": false,\n            \"include_in_reports\": false,\n            \"send_reminders\": false\n        }\n    };\n\n    var TOP_LEVEL_ORGS = [];\n    var orgsList = {};\n\n    this.inArray = function (val, array) {\n      if (val && array) {\n          for (var i = 0; i < array.length; i++) {\n              if (array[i] === val) {\n                return true;\n              }\n          };\n      };\n      return false;\n    };\n\n    this.getTopLevelOrgs = function() {\n        return TOP_LEVEL_ORGS;\n    };\n\n    this.getOrgsList = function() {\n        return orgsList;\n    };\n    this.setDefaultConsent =  function(userId, orgId) {\n        if (!userId && !orgId) {\n          return false;\n        }\n        var stockConsentUrl = $(\"#stock_consent_url\").val();\n        var agreementUrl = \"\";\n        if (stockConsentUrl) {\n            agreementUrl = stockConsentUrl.replace(\"placeholder\", $(\"#\" + orgId + \"_org\").attr(\"data-parent-name\"));\n        };\n        if (agreementUrl) {\n            var params = CONSENT_ENUM[\"consented\"];\n            params.org = orgId;\n            params.agreementUrl = encodeURIComponent(agreementUrl);\n            this.setConsent(userId, params, \"default\", true);\n        };\n    };\n    this.setConsent = function(userId, params, status, sync) {\n        var hasValue = window.app.utilObj.hasValue;\n        if (userId && params) {\n            var consented = this.hasConsent(userId, params[\"org\"], status);\n            if (!consented) {\n                $.ajax ({\n                    type: \"POST\",\n                    url: \"/api/user/\" + userId + \"/consent\",\n                    contentType: \"application/json; charset=utf-8\",\n                    cache: false,\n                    dataType: \"json\",\n                    async: (sync? false: true),\n                    data: JSON.stringify({\"user_id\": userId, \"organization_id\": params[\"org\"], \"agreement_url\": params[\"agreementUrl\"], \"staff_editable\": (hasValue(params[\"staff_editable\"])? params[\"staff_editable\"] : false), \"include_in_reports\": (hasValue(params[\"include_in_reports\"]) ? params[\"include_in_reports\"] : false), \"send_reminders\": (hasValue(params[\"send_reminders\"]) ? params[\"send_reminders\"] : false) })\n                }).done(function(data) {\n                }).fail(function(xhr) {\n                    window.app.global.reportError(userId, \"/api/user/\" + userId + \"/consent\", xhr.responseText);\n                });\n            };\n        };\n    };\n    /****** NOTE - this will return the latest updated consent entry *******/\n    this.hasConsent = function(userId, orgId, filterStatus) {\n        if (!userId) {\n          return false;\n        }\n        if (!orgId) {\n          return false;\n        }\n\n        var consentedOrgIds = [], expired = 0, found = false, suspended = false;\n        var self = this;\n\n        $.ajax ({\n            type: \"GET\",\n            url: \"/api/user/\"+userId+\"/consent\",\n            async: false,\n            cache: false\n        }).done(function(data) {\n            if (data.consent_agreements) {\n              var d = data[\"consent_agreements\"];\n              if (d.length > 0) {\n                  d = d.sort(function(a,b){\n                      return new Date(b.signed) - new Date(a.signed); //latest comes first\n                  });\n                  var item = d[0];\n                  expired = self.getDateDiff(item.expires);\n                  if (item.deleted) {\n                    found = true;\n                  }\n                  if (expired > 0) {\n                    found = true;\n                  }\n                  if (item.staff_editable && item.include_in_reports && !item.send_reminders) {\n                    suspended = true;\n                  }\n                  if (!found) {\n                    if (String(orgId) === String(item.organization_id)) {\n                      switch(filterStatus) {\n                        case \"suspended\":\n                          if (suspended) {\n                            found = true;\n                          }\n                          break;\n                        case \"purged\":\n                          found = true;\n                          break;\n                        case \"consented\":\n                          if (!suspended) {\n                              if (item.staff_editable && item.send_reminders && item.include_in_reports) {\n                                found = true;\n                              }\n                          };\n                          break;\n                        default:\n                          found = true; //default is to return both suspended and consented entries\n                      };\n                      if (found) {\n                        consentedOrgIds.push(orgId);\n                      }\n\n                    }\n                  }\n              }\n            }\n\n        }).fail(function() {\n          return false;\n        });\n        return consentedOrgIds.length > 0 ? consentedOrgIds : null;\n    };\n\n    this.getDateDiff = function(startDate,dateToCalc) {\n        var a = startDate.split(/[^0-9]/);\n        var dateTime = new Date(a[0], a[1]-1, a[2]).getTime();\n        var d;\n        if (dateToCalc) {\n            var c = dateToCalc.split(/[^0-9]/);\n            d = new Date(c[0], c[1]-1, c[2]).getTime();\n        } else {\n            // If no baseDate, then use today to find the number of days between dateToCalc and today\n            d = new Date().getTime();\n        }\n        // Round down to floor so we don't add an extra day if session is 12+ hours into the day\n        return Math.floor((d - dateTime) / (1000 * 60 * 60 * 24));\n    };\n\n    this.validateIdentifier = function(sync, callback) {\n      if (this.identifiers) {\n        return this.identifiers;\n      }\n      var self = this;\n      $.ajax ({\n        type: \"GET\",\n        url: \"/gil-shortcut-alias-validation/\" + ($(\"#shortcut_alias\").val()).toLowerCase(),\n        async: sync? false : true\n      }).done(function(data) {\n        if (callback) {\n          callback(data);\n        }\n      }).fail(function() {\n        if (callback) {\n          callback({error: \"failed request\"});\n        }\n      });\n\n    };\n    this.getOrgs = function(userId, sync, callback) {\n        var self = this;\n        $.ajax ({\n            type: \"GET\",\n            url: \"/api/organization\",\n            async: sync? false : true\n        }).done(function(data) {\n\n          $(\"#fillOrgs\").attr(\"userId\", userId);\n\n          (self.populateOrgsList).apply(self, [data.entry]);\n          self.populateUI();\n          if (callback) {\n            callback();\n          }\n\n          $(\"#modal-org\").on(\"hide.bs.modal\", function(e) {\n            if (typeof sessionStorage !== \"undefined\") {\n              sessionStorage.setItem(\"noOrgModalViewed\", \"true\");\n            } else {\n              alert(i18next.t(\"Unable to set session variable for organization modal viewed.\"));\n            }\n            setTimeout(function() { location.reload(); }, 0);\n          });\n\n          $(\"#submit-orgs\").on(\"click\", function() {\n            var os = $(\"#userOrgs input[name='organization']:checked\");\n            if (os.length > 0) {\n              os.each(function() {\n                  if ($(this).attr(\"id\") !== \"noOrgs\") {\n                    var parentOrg = $(this).attr(\"data-parent-id\");\n                    if (!parentOrg) {\n                      parentOrg = $(this).closest(\".org-container[data-parent-id]\").attr(\"data-parent-id\");\n                    };\n                    var agreementUrl = $(\"#\" + parentOrg + \"_agreement_url\").val();\n                    if (agreementUrl && String(agreementUrl) !== \"\") {\n                      var params = CONSENT_ENUM[\"consented\"];\n                      params.org = parentOrg;\n                      params.agreementUrl = agreementUrl;\n                      setTimeout(function() {\n                        self.setConsent($(\"#currentUserId\").val(), params, \"all\", true);\n                        }, 0);\n                    } else {\n                      self.setDefaultConsent($(\"#currentUserId\").val(), parentOrg);\n                    };\n                  };\n              });\n              self.updateOrg($(\"#currentUserId\").val(), self.updateOrgCallback);\n            };\n          });\n\n          $(\"#userOrgs input[name='organization']\").each(function() {\n              $(this).on(\"click\", function() {\n\n                  var userId = $(\"#fillOrgs\").attr(\"userId\");\n                  var parentOrg = $(this).attr(\"data-parent-id\");\n\n                  if ($(this).prop(\"checked\")){\n                      if ($(this).attr(\"id\") !== \"noOrgs\") {\n                          $(\"#noOrgs\").prop(\"checked\",false);\n\n                      } else {\n                          $(\"#userOrgs input[name='organization']\").each(function() {\n                             if ($(this).attr(\"id\") !== \"noOrgs\") {\n                                  $(this).prop(\"checked\",false);\n                              };\n                          });\n\n                      };\n                  };\n              });\n          });\n        }).fail(function(xhr) {\n          window.app.global.reportError(userId, \"/api/organization\", xhr.responseText);\n          if (callback) {\n            callback();\n          }\n        });\n    },\n    this.updateOrg = function(userId, callback) {\n\n        var demoArray = {}, errorMessage = \"\", hasValue = window.app.utilObj.hasValue;\n\n        $.ajax ({\n            type: \"GET\",\n            url: \"/api/demographics/\"+userId,\n            async: false\n        }).done(function(data) {\n            demoArray = data;\n        }).fail(function() {\n            errorMessage = i18next.t(\"Error retrieving demographics information for user.\");\n        });\n\n        var orgIDs = $(\"#userOrgs input[name='organization']:checked\").map(function(){\n            return { reference: \"api/organization/\"+$(this).val() };\n        }).get();\n\n        if (!hasValue(errorMessage)) {\n          if (typeof orgIDs === \"undefined\"){\n              orgIDs = [0];  // special value for `none of the above`\n          }\n          demoArray[\"careProvider\"] = orgIDs;\n\n          $.ajax ({\n              type: \"PUT\",\n              url: \"/api/demographics/\"+userId,\n              contentType: \"application/json; charset=utf-8\",\n              dataType: \"json\",\n              async: true,\n              data: JSON.stringify(demoArray)\n          }).done(function(data) {\n              if (callback) {\n                callback(errorMessage);\n              }\n          }).fail(function() {\n              errorMessage += (hasValue(errorMessage) ? \"<br/>\":\"\") + i18next.t(\"Error occurred updating user organization.\");\n              if (callback) {\n                callback(errorMessage);\n              }\n          });\n        } else {\n          if(typeof callback !== \"undefined\") {\n            callback(errorMessage);\n          }\n        };\n\n    },\n\n    this.filterOrgs = function(leafOrgs) {\n        if (!leafOrgs) {\n          return false;\n        }\n\n        var self = this;\n\n        $(\"input[name='organization']:checkbox\").each(function() {\n            if (! self.inArray($(this).val(), leafOrgs)) {\n                $(this).hide();\n                if (orgsList[$(this).val()] && orgsList[$(this).val()].children.length === 0) {\n                  $(this).closest(\"label\").hide();\n                }\n            };\n        });\n\n        var topList = self.getTopLevelOrgs();\n\n        topList.forEach(function(orgId) {\n            var allChildrenHidden = true;\n            $(\".org-container[data-parent-id='\" + orgId + \"']\").each(function() {\n                var subOrgs = $(this).find(\".org-container\");\n                if (subOrgs.length > 0) {\n                    var allSubOrgsHidden = true;\n                    subOrgs.each(function() {\n                         var isVisible = false;\n                         $(this).find(\"input[name='organization']\").each(function() {\n                             if ($(this).is(\":visible\")) {\n                                isVisible = true;\n                                allChildrenHidden = false;\n                             }\n                         });\n                        if (!isVisible) {\n                            $(this).hide();\n                        } else {\n                          allSubOrgsHidden = false;\n                        }\n\n                    });\n\n                    if (allSubOrgsHidden) {\n                      $(this).children(\"label\").hide();\n                    }\n\n                } else {\n                    var ip = $(this).find(\"input[name='organization']\");\n                    if (ip.length > 0) {\n                      ip.each(function() {\n                        if ($(this).is(\":visible\")) {\n                          allChildrenHidden = false;\n                        }\n                      });\n                    }\n                }\n            });\n            if (allChildrenHidden) {\n                $(\"#fillOrgs\").find(\"legend[orgid='\" + orgId + \"']\").hide();\n            }\n\n        });\n    };\n\n    this.findOrg = function(entry, orgId) {\n        var org;\n        if (entry && orgId) {\n            entry.forEach(function(item) {\n              if (!org) {\n                if (String(item.id) === String(orgId)) {\n                  org = item;\n                }\n              }\n            });\n        }\n        return org;\n    };\n    this.getTopLevelOrgs = function() {\n        if (TOP_LEVEL_ORGS.length === 0) {\n            var topOrgs = $(\"#fillOrgs\").find('input[name=\"organization\"][parent_org=\"true\"]');\n            if (topOrgs.length > 0) {\n                topOrgs.each(function() {\n                    TOP_LEVEL_ORGS.push[$(this).val()];\n                });\n            }\n        };\n        return TOP_LEVEL_ORGS;\n    };\n\n    this.populateOrgsList = function(items) {\n        if (!items) {\n          return false;\n        }\n        var entry = items, self = this, parentId;\n        items.forEach(function(item) {\n            if (item.partOf) {\n                parentId = item.partOf.reference.split(\"/\").pop();\n                if (!orgsList[parentId]) {\n                    var o = self.findOrg(entry, parentId);\n                    orgsList[parentId] = new OrgObj(o.id, o.name);\n                };\n                orgsList[parentId].children.push(new OrgObj(item.id, item.name, parentId));\n                if (orgsList[item.id]) {\n                  orgsList[item.id].parentOrgId = parentId;\n                }\n                else {\n                  orgsList[item.id] = new OrgObj(item.id, item.name, parentId);\n                }\n            } else {\n                if (!orgsList[item.id]) {\n                  orgsList[item.id] = new OrgObj(item.id, item.name);\n                }\n                if (parseInt(item.id) !== 0) {\n                  orgsList[item.id].isTopLevel = true;\n                  TOP_LEVEL_ORGS.push(item.id);\n                };\n            };\n        });\n        items.forEach(function(item) {\n            if (item.partOf) {\n                parentId = item.partOf.reference.split(\"/\").pop();\n                if (orgsList[item.id]) {\n                  orgsList[item.id].parentOrgId = parentId;\n                }\n            };\n        });\n        return orgsList;\n    };\n\n    this.populateUI = function() {\n        var parentOrgsCt = 0, topLevelOrgs = this.getTopLevelOrgs();\n        for (var org in orgsList) {\n            if (orgsList[org].isTopLevel) {\n                if (orgsList[org].children.length > 0) {\n                  $(\"#fillOrgs\").append(\"<legend orgId='\" + org + \"'>\"+i18next.t(orgsList[org].name)+\"</legend><input class='tnth-hide' type='radio' name='organization' parent_org=\\\"true\\\" org_name=\\\"\" + orgsList[org].name + \"\\\" id='\" + orgsList[org].id + \"_org' value='\"+orgsList[org].id+\"' />\");\n\n                } else {\n                  $(\"#fillOrgs\").append('<div id=\"' + orgsList[org].id + '_container\" data-parent-id=\"'+ orgsList[org].name +'\"  data-parent-name=\"' + orgsList[org].name + '\" class=\"org-container\"><label id=\"org-label-' + orgsList[org].id + '\" class=\"org-label\"><input class=\"clinic\" type=\"radio\" name=\"organization\" parent_org=\"true\" id=\"' +  orgsList[org].id + '_org\" value=\"'+\n                        orgsList[org].id +'\"  data-parent-id=\"'+ orgsList[org].id +'\"  data-parent-name=\"' + orgsList[org].name + '\"/><span>' + i18next.t(orgsList[org].name) + '</span></label></div>');\n                }\n                parentOrgsCt++;\n            };\n            // Fill in each child clinic\n            if (orgsList[org].children.length > 0) {\n                var childClinic = \"\";\n                orgsList[org].children.forEach(function(item, index) {\n                    var _parentOrgId = item.parentOrgId;\n                    var _parentOrg = orgsList[_parentOrgId];\n                    var _isTopLevel = _parentOrg ? _parentOrg.isTopLevel : false;\n                    childClinic = '<div id=\"' + item.id + '_container\" ' + (_isTopLevel ? (' data-parent-id=\"'+_parentOrgId+'\"  data-parent-name=\"' + _parentOrg.name + '\" ') : \"\") +' class=\"indent org-container\">'\n\n                    if (orgsList[item.id].children.length > 0) {\n                        childClinic += '<label class=\"org-label ' + (orgsList[item.parentOrgId].isTopLevel ? \"text-muted\": \"text-muter\") + '\">' +\n                        '<input class=\"clinic\" type=\"radio\" name=\"organization\" id=\"' +  item.id + '_org\" value=\"'+\n                        item.id +'\"  ' +  (_isTopLevel ? (' data-parent-id=\"'+_parentOrgId+'\"  data-parent-name=\"' + _parentOrg.name + '\" ') : \"\") + '/><span>'+\n                        i18next.t(item.name) +\n                        '</span></label>';\n\n                     } else {\n                        childClinic += '<label class=\"org-label\">' +\n                        '<input class=\"clinic\" type=\"radio\" name=\"organization\" id=\"' +  item.id + '_org\" value=\"'+\n                        item.id +'\"  ' +  (_isTopLevel ? (' data-parent-id=\"'+_parentOrgId+'\"  data-parent-name=\"' + _parentOrg.name + '\" ') : \"\") + '/><span>'+\n                        i18next.t(item.name) +\n                        '</span></label>';\n                    }\n\n                    childClinic += '</div>';\n\n                    if ($(\"#\" + _parentOrgId + \"_container\").length > 0) $(\"#\" + _parentOrgId + \"_container\").append(childClinic);\n                    else {\n                      $(\"#fillOrgs\").append(childClinic);\n                    }\n\n                });\n            };\n\n            if (parentOrgsCt > 0 && orgsList[org].isTopLevel) {\n              $(\"#fillOrgs\").append(\"<span class='divider'>&nbsp;</span>\");\n            }\n        };\n    };\n    this.handleNoOrgs = function (userId) {\n        $(\".intervention-link, a.decision-support-link\").each(function() {\n          var dm = /decision\\s?support/gi;\n          if (dm.test($(this).text()) || $(this).hasClass(\"decision-support-link\")) {\n            var hasSet = (typeof sessionStorage != \"undefined\") && sessionStorage.getItem(\"noOrgModalViewed\");\n            //allow modal to show once once action has been taken\n            if (hasSet) {\n              return false;\n            }\n            var self = this;\n            $.ajax ({\n               type: \"GET\",\n                url: \"/api/demographics/\" + userId,\n                async: false\n            }).done(function(data) {\n              if (data && data.careProvider) {\n                  $.each(data.careProvider,function(i,val){\n                    var orgID = val.reference.split(\"/\").pop();\n                    if (parseInt(orgID) === 0) {\n                        $(self).removeAttr(\"href\");\n                        $(self).on(\"click\", function() {\n                          $(\"figure.js-close-nav\").trigger(\"click\");\n                          setTimeout(function() {\n                            $(\"#modal-org\").modal(\"show\");\n                          }, 0);\n                        });\n                        window.app.interventionSessionObj.clearSession(\"decision-support\");\n                    };\n                  });\n                };\n            }).fail(function(xhr) {\n                 window.app.global.reportError(userId, \"/api/demographics/\" + userId, xhr.responseText);\n            });\n          };\n       });\n    };\n\n    this.updateOrgCallback = function (errorMessage) {\n      if (!errorMessage) {\n          $(\"#modal-org a.box-modal__close\").trigger(\"click\");\n          window.app.utilObj.setVis(true);\n          setTimeout(function() { location.reload(); }, 1000);\n          if (typeof sessionStorage !== \"undefined\") {\n            sessionStorage.setItem(\"noOrgModalViewed\", \"true\");\n          }\n      } else {\n        $(\"#modal-org-error\").html(i18next.t(\"Error updating organization\"));\n      }\n    };\n  };\n\n})();\n},{}],\n13:[function(require,module,exports){\n  var menuObj;\n  module.exports = menuObj = (function() {\n      return function () {\n          this.init = function(currentUserId) {\n\n            if (window.app.global.checkRole(\"patient\") || window.app.global.checkRole(\"partner\")) {\n              this.filterMenu(currentUserId);\n            } else {\n              window.app.visObj.hideLoader();\n            }\n            this.setSelectedNavItem($(\".side-nav-items__item--\" + $(\"main\").attr(\"data-section\")));\n            this.handleDisabledLinks();\n            $(\"footer a[href='/\" + $(\"main\").attr(\"data-link-identifier\") + \"']\").hide();\n            if ($(\"main\").attr(\"data-section\") === \"about\") {\n              $(\"#repoVersion\").show();\n            }\n          };\n\n          this.handleDisabledLinks = function() {\n            if (window.app.utilObj.getUrlParameter(\"disableLinks\")) {\n              $(\"nav.side-nav li.side-nav-items__item, footer .nav-list__item\").each(function() {\n                if (!$(this).hasClass(\"side-nav-items__item--home\") &&\n                  !$(this).hasClass(\"side-nav-items__item--logout\") &&\n                  !$(this).hasClass(\"nav-list__item--home\")) {\n                    $(this).children(\"a\").each(function() {\n                      $(this).addClass(\"disabled\");\n                      $(this).prop(\"onclick\",null).off(\"click\");\n                      $(this).on(\"click\", function(e) {\n                        e.preventDefault();\n                        return false;\n                      });\n                  });\n                }\n              });\n            }\n          };\n          this.setSelectedNavItem = function(obj) {\n            $(obj).addClass(\"side-nave-items__item--selected\");\n            $(\"li.side-nave-items__item--selected\").find(\"a\").attr(\"href\", \"#\");\n            $(obj).on(\"click\", function(event) {\n              event.preventDefault();\n              window.app.utilObj.setVis(false);\n              $(\".side-nav__close\").trigger(\"click\");\n              return;\n            });\n          };\n\n          this.handleItemRedirect = function(userId, itemName, enable) {\n            var visObj = window.app.visObj;\n            if (!enable) {\n              $(\".\" + itemName + \"-link\").each(function() {\n                $(this).removeAttr(\"href\");\n                $(this).addClass(\"icon-box__button--disabled\");\n              });\n              $(\".icon-box-\" + itemName).addClass(\"icon-box--theme-inactive\");\n              window.app.interventionSessionObj.clearSession(itemName);\n            } else {\n              window.app.orgTool.handleNoOrgs(userId);\n              if (window.app.interventionSessionObj.getSession(itemName)) {\n                var l =  $(\"#intervention_item_\" + itemName + \" a\");\n                var la = l.attr(\"href\");\n                if (l.length > 0 && window.app.utilObj.validateUrl(la)) {\n                  window.app.interventionSessionObj.clearSession(itemName);\n                  visObj.setRedirect();\n                  setTimeout(function() { location.replace(l.attr(\"href\")); }, 0);\n                  return true;\n                };\n              };\n            };\n          };\n          this.setItemVis = function(item, itemLink, vis) {\n            if (item) {\n              switch(vis) {\n                case \"disabled\":\n                  item.removeAttr(\"href\");\n                  item.addClass(\"icon-box__button--disabled\");\n                  break;\n                default:\n                  item.attr(\"href\", itemLink);\n                  item.removeClass(\"icon-box__button--disabled\");\n              }\n            }\n          };\n          this.handleInterventionItemLinks = function(interventionItem, customName){\n            var self = this;\n            if (interventionItem) {\n              var link = interventionItem.link_url;\n              var disabled = (String(link) === \"disabled\");\n              var itemName = customName||interventionItem.name;\n              var linkItems = $(\".\" + itemName + \"-link\");\n              var menuItem = $(\"#intervention_item_\" + itemName);\n              if (!disabled && menuItem.length === 0) { //only draw this when there isn't already one\n                $(\".side-nav-items__item--dashboard\").after('<li id=\"intervention_item_' + itemName + '\" class=\"side-nav-items__item side-nav-items__item--has-icon side-nav-items__item--accentuated\"><a href=\"' + link + '\" class=\"capitalize intervention-link\">' + interventionItem.description + '</a></li>');\n              }\n              if (linkItems.length > 0) {\n                if (!disabled) {\n                  linkItems.each(function() {\n                    self.setItemVis($(this), link);\n                  });\n                  $(\".icon-box-\" + itemName).removeClass(\"icon-box--theme-inactive\");\n                } else {\n                  linkItems.each(function() {\n                    self.setItemVis($(this), link, \"disabled\");\n                  });\n                  $(\".icon-box-\" + itemName).addClass(\"icon-box--theme-inactive\");\n                }\n              }\n            }\n          };\n          this.filterMenu = function (userId) {\n            if (!userId) {\n              return false;\n            }\n            var self = this;\n            var __PORTAL = $(\"#portalURI\").val();\n            $.ajax({\n              url: __PORTAL + \"/gil-interventions-items/\" + userId,\n              context: document.body,\n              async: false,\n              cache: false\n            }).done(function(data) {\n              var found_decision_support = false, found_symptom_tracker = false;\n              if (data.interventions) {\n                if (data.interventions.length > 0) {\n                  var db = $(\".side-nav-items__item--dashboard\");\n                  if (db.length === 0) {\n                    $(\".side-nav-items\").prepend('<li class=\"side-nav-items__item side-nav-items__item--dashboard\"><a href=\"' + __PORTAL + '/home\">' + i18next.t(\"My Dashboard\") + '</a></li>');\n                    if ($(\"#portalMain\").length > 0) {\n                      self.setSelectedNavItem($(\".side-nav-items__item--dashboard\"));\n                    }\n                  }\n                  $(\".side-nav-items__item--home\").hide();\n                }\n                (data.interventions).forEach(function(item) {\n                  var itemDescription = item.description;\n                  var itemLink = item.link_url;\n                  var itemName = item.name.replace(/\\_/g, \" \");\n                  var disabled = item.link_url == \"disabled\";\n                  var dm = /decision\\s?support/gi;\n                  var sm = /symptom\\s?tracker/gi;\n                  var sm2 = /self[_\\s]?management/gi;\n                  if (dm.test(itemDescription) || dm.test(itemName)) {\n                    if (!disabled) {\n                      found_decision_support = true;\n                    }\n                    self.handleInterventionItemLinks(item, \"decision-support\");\n                  } else if (sm.test(itemDescription) || sm2.test(itemName)) {\n                    if (!disabled) {\n                      found_symptom_tracker = true;\n                    }\n                    self.handleInterventionItemLinks(item, \"symptom-tracker\");\n                  } else if ($.trim(itemDescription) !== \"\") {\n                    self.handleInterventionItemLinks(item);\n                  };\n              });\n              self.handleItemRedirect(userId, \"decision-support\", found_decision_support);\n              self.handleItemRedirect(userId, \"symptom-tracker\", found_symptom_tracker);\n            };\n            window.app.utilObj.setVis(false);\n          }).fail(function() {\n            window.app.utilObj.setVis(false);\n          });\n        };\n      };\n  })();\n},{}],\n14:[function(require,module,exports){\nvar accessCodeObj;\n\nmodule.exports = accessCodeObj = (function() {\n  return function() {\n    this.handleAccessCode = function() {\n      if ($(\"#shortcut_alias\").val() !== \"\" && $(\"#access_code_error\").text() === \"\") {\n        $(\"#access_code_info\").show();\n        $(\"#accessCodeLink\").addClass(\"icon-box__button--disabled\");\n        $(\"#btnCreateAccount\").removeAttr(\"href\").addClass(\"icon-box__button--disabled\");\n        $(\"#shortcut_alias\").attr(\"disabled\", true);\n        window.app.interventionSessionObj.setInterventionSession();\n        setTimeout(function() { location.replace(\"/go/\" + ($(\"#shortcut_alias\").val()).toLowerCase());}, 4000);\n      } else {\n        if ($(\"#access_code_error\").text() !== \"\") {\n          $(\"#access_code_error\").show();\n        }\n      }\n    };\n    this.handleEvents = function() {\n        var self = this;\n        $(\"#shortcut_alias\").on(\"keyup paste\", function(e) {\n          if ($(this).val() !== \"\") {\n            window.app.orgTool.validateIdentifier(false,\n              function(data) {\n                if (data) {\n                  if (data.name) {\n                    $(\"#access_code_info\").html(i18next.t(\"Thank you, your access code {shortcut_alias} indicates you are located at the {org_name}. Proceeding to registration ...\").replace(\"{shortcut_alias}\", \"<b>\"+$(\"#shortcut_alias\").val()+\"</b>\").replace(\"{org_name}\", \"<b>\"+data.name+\"</b>\"));\n                      $(\"#access_code_error\").text(\"\");\n\n                    } else {\n                      if (data.error) {\n                        $(\"#access_code_info\").text(\"\");\n                        $(\"#access_code_error\").text(i18next.t(\"You have entered an invalid access code.  Please try again\"));\n                      }\n                  }\n                } else {\n                    if ($(\"#shortcut_alias\").val() !== \"\") {\n                      $(\"#access_code_info\").text(\"\");\n                      $(\"#access_code_error\").text(i18next.t(\"System was unable to process your request.\"));\n                    }\n                }\n\n              });\n          } else {\n            $(\"#access_code_info\").text(\"\");\n          }\n        }).on(\"keydown\", function(e) {\n          if (e.keyCode === RETURN_KEY_CODE) {\n            e.preventDefault();\n            self.handleAccessCode();\n          }\n        });\n\n        $(\"#accessCodeLink\").on(\"click\", function() {\n          self.handleAccessCode();\n        });\n    };\n\n  }\n\n})();\n},{}],\n15:[function(require,module,exports){\nvar utilObj;\nmodule.exports = utilObj = (function() {\n  return function() {\n    /*********\n     *\n     * general global utilities function\n     *\n     *********/\n    this.handlePostLogout = function() {\n      if ($(\"main[data-section='home']\").length) {\n        Utility.handlePostLogout(); /*global Utility handlePostLogout */\n      }\n    };\n\n    this.setVis = function(show) {\n      if (show) {\n        window.app.visObj.showLoader();\n      } else {\n        window.app.visObj.showMain();\n      }\n    };\n\n    this.LRKeyEvent = function() {\n      if ($(\".button--LR\").length > 0) {\n        $(\"html\").on(\"keydown\", function(e) {\n          var LR_INVOKE_KEYCODE = 187; // \"=\" sign\n          if (e.keyCode === LR_INVOKE_KEYCODE) {\n            $(\".button--LR\").toggleClass(\"show\");\n          }\n        });\n      }\n    };\n\n    this.appendLREditContainer = function(target, url, show) {\n      if (!url) {\n        return false;\n      }\n      if (!target) {\n        target = $(document);\n      }\n      target.append(\"<div>\" +\n                  '<a href=\"' + url + '\" target=\"_blank\" class=\"menu button button--small button--teal button--LR\">' + i18next.t(\"Edit in Liferay\") + '</a>' +\n                  \"</div>\"\n                  );\n      if (show) {\n        $(\".button--LR\").addClass(\"show\");\n      }\n    };\n    this.hasValue = function(val) {\n      return val != null && val != \"\" && val != \"undefined\";\n    };\n    //this test for full URL - \"https://stg-sm.us.truenth.org\" etc.\n    this.validateUrl = function(val) {\n        return  val && $.trim(val) !== \"#\" && /^(https?|ftp)?(:)?(\\/\\/)?([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/.test(val);\n    };\n\n    this.getUrlParameter = function (name) {\n      name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n      var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n      var results = regex.exec(location.search);\n      return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    };\n\n    this.initSessionMonitor = function() {\n      /*\n       * get portal wrapper nav content\n       * this contains session monitor & piwik setups\n       */\n      $.ajax({\n          url: $(\"#portalURI\").val() + \"/api/portal-wrapper-html/\",\n          type: \"GET\",\n          contentType:\"text/plain\"\n      }, \"html\")\n      .done(function(data) {\n          $(\"#portalWrapperNav\")\n          // Embed data returned by AJAX call into container element\n          .html(data);\n      })\n      .fail(function(xhr) {\n          /*\n           * report error\n           */\n          var params = {};\n          params.subject_id = $(\"#currentUserId\").val() ? $(\"#currentUserId\").val() : 0;\n          params.page_url = window.location.href;\n          //don't think we want to translate message sent back to the server here\n          params.message = \"In GIL, error loading nav elements from portal - \" + xhr.responseText;\n\n          $.ajax ({\n              type: \"GET\",\n              url: \"/report-error\",\n              contentType: \"application/json; charset=utf-8\",\n              cache: false,\n              async: true,\n              data: params\n          }).done(function(data) {\n          });\n      });\n    };\n\n    this.handleLoginAsUser = function() {\n      var __LOGIN_AS_PATIENT = (typeof sessionStorage !== \"undefined\") ? sessionStorage.getItem(\"loginAsPatient\") : null;\n      if (__LOGIN_AS_PATIENT) {\n        if (typeof history !== \"undefined\" && history.pushState) {\n          history.pushState(null, null, location.href);\n        }\n        window.addEventListener(\"popstate\", function(event) {\n          if (typeof history !== \"undefined\" && history.pushState) {\n            history.pushState(null, null, location.href);\n            setTimeout(function() { location.reload(); } , 0);\n          } else {\n            window.history.forward(1);\n            setTimeout(function() { location.reload();}, 0);\n          }\n        });\n      }\n    };\n  };\n})();\n},{}]\n},{},[2]);\n\n$(document).ready(function(){\n  //note: display system outage message only after i18next has been instantiated - allowing message to be translated\n  Utility.displaySystemOutageMessage(); /* global Utility displaySystemOutageMessage */\n  var currentUserId = $(\"#currentUserId\").val();\n  // Configure and start the session timeout monitor\n  if (currentUserId !== \"\") {\n    window.app.utilObj.initSessionMonitor();\n    window.app.utilObj.handleLoginAsUser();\n    window.app.orgTool.getOrgs(currentUserId);\n  } else {\n    window.app.utilObj.handlePostLogout();\n  }\n\n  $(\".button--login--register\").on(\"click\", function () {\n    $(\"#modal-login-register\").modal(\"hide\");\n    setTimeout(function() { $(\"#modal-login\").modal(\"show\"); }, 400);\n  });\n\n  $(\"#modal-login\").on(\"show.bs.modal\", function(e) {\n    window.app.utilObj.setVis(false);\n  });\n\n  $(\"#btnCreateAccount\").on(\"click\", function() {\n    window.app.interventionSessionObj.setInterventionSession();\n  });\n\n  $(\"a.icon-box__button--disabled, .side-nave-items__item--selected a\").on(\"click\", function(e) {\n    e.preventDefault();\n    window.app.utilObj.setVis(false);\n    return false;\n  });\n\n  $(\"#password\").on(\"keyup\", function() {\n    if (e.keyCode === RETURN_KEY_CODE) {\n      e.preventDefault();\n      if ($(\"input[name='email']\").val() !== \"\") {\n        $(\"#btnLogin\").trigger(\"click\");\n      }\n    }\n  });\n\n  $(\"input[type='text']\").on(\"blur paste\", function() {\n    $(this).val($.trim($(this).val()));\n  });\n\n  if ($(\"#sessionTimedOut\").val() === \"true\") {\n    $(\"#timeout-modal\").modal(\"show\");\n  }\n\n  if ($(\"main\").attr(\"data-theme\") === \"white\") {\n    $(\"body\").addClass(\"theme--intro-light\");\n  }\n\n  if (String($(\"#showFlashMessageModal\").val()).toLowerCase() === \"true\") {\n    $(\"#alertModal\").modal(\"show\");\n  }\n  window.app.upperBanner.handleAccess();\n  window.app.upperBanner.handleWatermark();\n  window.app.accessCodeObj.handleEvents();\n  window.app.menuObj.init(currentUserId);\n  window.app.interventionSessionObj.clearSession($(\"main\").attr(\"data-link-identifier\"));\n  window.app.utilObj.appendLREditContainer($(\"main .LR-content-container\"), $(\"#LREditorURL\").val(), window.app.global.checkRole(\"content_manager\"));\n  setTimeout(function() { window.app.utilObj.setVis(false); }, 0);\n});\n\n"],"sourceRoot":""}